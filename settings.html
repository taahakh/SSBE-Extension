<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="settings.css">
    <title>Document</title>
</head>
<body>
    <div id="container">
        <h1 style="font-size: 40px;">Settings</h1>
        <div id="provider">
            <h1>Service Connections</h1>
            <div id="provider-select">
                <h2>Select Provider</h2>
                <select id="provider-selector" class="box box-width-extended"  name="">
                    <option value="bs">Backend Service</option>
                    <option value="co">ChatGPT / OpenAI </option>
                </select>
            </div>
            <div id="bs-provider-connection-box">
                <h3>Service Connect</h3>
                <div id="bs-provider-connection-login-button" class="box box-div box-width-extended selectable-button-side pointer">Login</div>
                <div id="bs-provider-connection-signup-button" class="box box-div box-width-extended selectable-button-side pointer">Signup</div>
                <p>Host</p>
                <input id="bs-provider-connection-host-input" class="box box-width-extended-medium" type="text">
                <p>Username</p>
                <input id="bs-provider-connection-username-input" class="box box-width-extended-medium" type="text">
                <p>Password</p>
                <input id="bs-provider-connection-password-input" class="box box-width-extended-medium" type="text">
                <p id="bs-provider-connection-contextual" class="red-error"></p>
                <button id="bs-provider-connection-connect-button" class="box pointer">Connect</button>
            </div>
            <div id="co-provider-connection-box">
                <p>API Key</p>
                <input type="text" name="" class="box box-width-extended-medium"  id="co-provider-key-input">
                <p>API Host</p>
                <p>Leave the host field empty if you want to use ChatGPT</p>
                <input type="text" name="" class="box box-width-extended-medium"  id="co-provider-host-input">
                <button id="co-provider-connection-save-button" class="box pointer">Save</button>
            </div>
        </div>

        <div id="shortcuts">
            <h1>Shortcuts</h1>
            <h2>Shortcut options</h2>
            <p>A list of shortcuts that can be used shown down below. Click on the button <strong>"Open shortcuts"</strong> down below to edit and view shortcuts</p>
            <ul>
                <li><strong>></strong> Activate the extension: Opens the extension</li>
                <li><strong>></strong> Select text on the webpage to summarise</li>
            </ul>
            <button id="edit-view-shortcuts-button" class="box pointer">Open shortcuts</button>
        </div>

        <div id="co-customisation">
            <h1>ChatGPT / OpenAI: Customisation</h1>
            <p class="guide-text pad-btm-10">This section houses the current customisation features for using ChatGPT / OpenAI</p>
            <div id="prompts">
                <h2>Prompts</h2>
                <p class="guide-text pad-btm-10">Prompts are statements that are used to help ChatGPT / OpenAI summarise in a particular way.</p>
                <p class="guide-text pad-btm-10">For example:</p>
                <ul class="guide-text pad-btm-10">
                    <li><strong>></strong> Summarise this text: {content}</li>    
                    <li><strong>></strong> Summarise this text under 100 words : {content}</li>    
                </ul>
                <p class="guide-text pad-btm-10"> "<strong>{content}</strong>" must be added in the statement so that the extension will know where to add the text for summarisation</p>
                <div id="saved-prompts">
                    <h3 class="pad-btm-10">View, Edit, Delete, Set Default Prompts </h3>
                    <p class="guide-text pad-btm-10">
                        View, edit and delete your saved prompts. 
                        You can also decide which prompt you would like to be your default for summarisation.
                    </p>
                    <p class="guide-text pad-btm-10"> Please make sure "<strong>{content}</strong>" is added within your prompt in order for it to be valid</p>
                    <select name="" id="co-prompts-selector" class="box box-width-extended-med-long">
                        <!-- <option value="x">x</option> -->
                        <!-- <option value="y">y</option> -->
                    </select>
                    <button id="co-prompts-edit-button" class="box box-width-reduced box-reduced-pad-uniform pointer">Edit</button>
                    <button id="co-prompts-delete-button" class="box box-width-reduced box-reduced-pad-uniform pointer">Delete</button>
                    <button id="co-prompts-default-button" class="box box-width-reduced box-reduced-pad-uniform pointer">Set default</button>
                    <div id="co-prompts-edit-editor">
                        <h4>Update prompt</h4>
                        <input type="text" id="co-prompts-edit-input" class="box box-width-extended-long">
                        <button id="co-prompts-edit-update-button" class="box box-width-reduced box-reduced-pad-uniform pointer">Update</button>
                    </div>
                    <!-- Need to add to design?????? -->                    
                </div>
                
                <div class="line-separator"></div>

                <div id="add-new-prompts">
                    <h3>Add new prompt</h3>
                    <p class="guide-text pad-btm-10"> Please make sure "<strong>{content}</strong>" is added within your prompt in order for it to be valid</p>
                    <input type="text" id="co-prompts-add-input" class="box box-width-extended-long">
                    <button id="co-prompts-add-button" class="box box-width-reduced box-reduced-pad-uniform pointer">Add</button>
                </div>
                <p id="co-prompts-ctx-help" class="pad-btm-10"></p>
            </div>
        </div>

        <div id="bs-config">
            <h1>Backend service: Customisation</h1>
            <p class="guide-text pad-btm-10">This section houses the current customisation features for using the Backend Service</p>
            <div id="per-site-config" class="per-site-config">
                <h2>Per site customisation</h2>
                <p class="guide-text pad-btm-20">Customise summarisation for particular sites that you may frequently visit</p>
                <div id="bs-psc-editsite">
                    <h3 class="pad-btm-15">Edit configuration for a site</h3>
                    <select id="bs-edit-config-selector" class="box box-width-extended-med-long" name=""></select>
                    <button id="edit-site-button" class="box box-width-reduced pointer box-reduced-pad-uniform">Edit</button>
                    <button id="edit-del-site-button" class="box box-width-reduced pointer box-reduced-pad-uniform">Remove</button>      
                    <div id="bs-psc-editsite-update">
                        
                        <h4>url</h4>
                        <input id="edit-bs-add-config-URL" class="box box-width-extended-long" type="text">
                        <!-- Customisation options  -->
                        <h4>summarisation options</h4>
                        <div id="summarisation-customisation" class="summarisation-customisation">
                            <div id="bs-customisation" class="bs-customisation">
                                <div id="edit-textdomain" class="bs-text-align">
                                <h3 id="edit-tt-header" class="pointer">Text Type</h3>
                                <!-- <label for="td-dropdown">Text Type:</label> -->
                                <select id="edit-td-dropdown-textdomain" class="box box-lr-pad-long dropdown-overflow" name="edit-td-dropdown-textdomain">
                                    <!-- <option value="apple">Apple</option>
                                    <option value="banana">Banana</option>
                                    <option value="orange">Orange</option>
                                    <option value="grape">Grape</option> -->
                                </select>
                                </div>
                                <div id="edit-summarytype" class="bs-text-align">
                                <!-- Extractive and Abstractive Summarisation Buttons -->
                                <h3 id="edit-st-header" class="pointer">Summary Type</h3>
                                <div id="edit-summarisation-buttons" class="summarisation-buttons">
                                    <div id="edit-sb-1" class="sb-1 box box-reduced-pad-uniform selectable-button">Extractive</div>
                                    <div id="edit-sb-2" class="sb-2 box box-reduced-pad-uniform selectable-button">Abstractive</div>
                                </div>
                                </div>
                                <div id="edit-modelchoice" class="bs-text-align">
                                <h3 id="edit-model-header" class="pointer">Model select</h3>
                                <select id="edit-td-dropdown-modelchoice" class="box dropdown-overflow" name="edit-td-dropdown-modelchoice">
                                    <!-- <option value="apple">Apple</option>
                                    <option value="banana">Banana</option>
                                    <option value="orange">Orange</option>
                                    <option value="grape">Grape</option> -->
                                </select>
                                </div>
                                <div id="edit-summarylength" class="bs-text-align">
                                <h3 id="edit-sl-header" class="pointer">Summary Length</h3>
                                <h5 id="edit-minlength">Min length: 30 words </h5>
                                <h5 id="edit-maxlength">Max length: 300 words</h5>
                                <input type="text" id="edit-summary-length" class="summary-length box box-reduced-pad-uniform box-width-reduced" name="edit-summary-length" placeholder="100">
                                </div>
                            </div>
                            </div>
                        <div id="edit-tt-pp" class="popup hidden"> Choose your text type</div>
                        <div id="edit-st-pp" class="popup hidden"> Choose your text type</div>
                        <div id="edit-mc-pp" class="popup hidden"></div>
                        <div id="edit-sl-pp" class="popup hidden"> Choose your text type</div>
                        <h4>Scraping Options</h4>
                        <div id="edit-scraping-options">
                            <div id="edit-auto-scrape" class="box box-width-reduced pointer selectable-button-side">Automatic Scrape</div>
                            <div id="edit-custom-scrape" class="selectable-button-side box box-width-reduced pointer">Custom Scrape</div>
                        </div>
                        <h4>add xpath</h4>    
                        <div id="edit-add-xpath">
                            <input type="text" name="xpath" id="edit-add-xpath-input0">
                            <button id="edit-add-xpath-button">Add</button>
                        </div>
                        <button id="edit-bs-add-config-save">Save</button>
                     </div>
                </div>

                <div class="line-separator"></div>

                <div id="bs-psc-addconfig" class="bs-psc-addconfig">
                    <h3 class="pad-btm-20">Add new configuration for a site</h3>
                    <p class="guide-text pad-btm-10">Add a <strong>valid</strong> url that you want to configure for summarisation e.g. https://example.co.uk</p>
                    <div id="bs-psc-url-descriptor-box">
                        <p class="guide-text">Click the chevron on how to add urls</p>
                        <button id="bs-psc-url-descriptor-toggle" class="guide-descriptor-toggle pointer"></button>
                        <div id="bs-psc-url-descriptor" class="descriptor-text-box">
                            <p class="guide-text pad-btm-10">
                                For more specificity in the type of pages on a site you want to summarise, add path / page of the url e.g. https://example.co.uk/news .
                            </p>
                            <p class="guide-text pad-btm-10">Visiting pages that match the url will load up and use the summarisation customisation.</p>
                            <p class="guide-text pad-btm-10">
                                Note that if you have a configuration for https://example.co.uk ,
                                all sites that are a part that website will use the same summarisation configuration. e.g. Customisation for https://example.co.uk will work for https://example.co.uk/news .
                            </p>
                            <p class="guide-text pad-btm-10">
                                You can add multiple customisations for the same site but with different paths e.g. Customisation given for https://example.co.uk and https://example.co.uk/news will use their respective configuration. 
                                Visiting pages that match the url will load up and use the summarisation customisation.
                            </p>
                            <p class="guide-text pad-btm-10">
                                Customisation is given priority to the longest matching path e.g. Customisation has been given for https://example.co.uk and https://example.co.uk/news . 
                                Visiting site https://example.co.uk/news/sports will use customisation from https://example.co.uk/news .
                            </p>
                            <p class="guide-text pad-btm-10">
                                <strong>Note that urls must match the pattern for the sites you have configured</strong>
                            </p>
                        </div>
                    </div>

                    <!-- <p class="guide-text pad-btm-20"></p> -->
                    <div class="url-section">
                        <h4>URL</h4>
                        <input id="bs-add-config-URL" class="box box-width-extended-med-long" type="text">
                    </div>
                    <!-- Customisation options  -->
                    <div id="summarisation-customisation" class="summarisation-customisation pad-btm-10">
                        <h4>Summarisation Options</h4>
                        <p class="guide-text pad-btm-20">
                            The options below allow you to customise your summarisation experience for the webpages you visit.
                            Hover over each option's title to get a better understanding
                        </p>
                        <div id="bs-customisation" class="bs-customisation">
                            <div id="textdomain" class="bs-text-align">
                              <h3 id="tt-header" class="pointer">Text Type</h3>
                              <!-- <label for="td-dropdown">Text Type:</label> -->
                              <select id="td-dropdown-textdomain" class="box box-lr-pad-long dropdown-overflow" name="td-dropdown-textdomain">
                                  <!-- <option value="apple">Apple</option>
                                  <option value="banana">Banana</option>
                                  <option value="orange">Orange</option>
                                  <option value="grape">Grape</option> -->
                              </select>
                            </div>
                            <div id="summarytype" class="bs-text-align">
                              <!-- Extractive and Abstractive Summarisation Buttons -->
                              <h3 id="st-header" class="pointer">Summary Type</h3>
                              <div id="summarisation-buttons" class="summarisation-buttons">
                                <div id="sb-1" class="sb-1 box box-reduced-pad-uniform selectable-button">Extractive</div>
                                <div id="sb-2" class="sb-2 box box-reduced-pad-uniform selectable-button">Abstractive</div>
                              </div>
                            </div>
                            <div id="modelchoice" class="bs-text-align">
                              <h3 id="model-header" class="pointer">Model select</h3>
                              <select id="td-dropdown-modelchoice" class="box dropdown-overflow" name="td-dropdown-modelchoice"></select>
                            </div>
                            <div id="summarylength" class="bs-text-align">
                              <h3 id="sl-header" class="pointer">Summary Length</h3>
                              <h5 id="minlength">Min length: 30 words </h5>
                              <h5 id="maxlength">Max length: 300 words</h5>
                              <input type="text" id="summary-length" class="summary-length box box-reduced-pad-uniform box-width-reduced" name="summary-length" placeholder="100">
                            </div>
                          </div>
                        </div>
                        <div id="tt-pp" class="popup hidden"> Choose your text type</div>
                        <div id="st-pp" class="popup hidden"> Choose your text type</div>
                        <div id="mc-pp" class="popup hidden"></div>
                        <div id="sl-pp" class="popup hidden"> Choose your text type</div>
                    <div id="scraping-options" class="scraping-options pad-top-20">
                        <h4>Scraping Options</h4>
                        <ul>
                            <li><strong>Automatic Scrape:</strong> Extension tries its best to extract the text from the webpage</li>
                            <br>
                            <li>
                                <strong>Custom Scrape:  </strong>  
                                Decide what text gets extracted from the webpage with XPATHs. This option is more advanced and requires knowledge in using XPATHs and some level of web devlopment.
                                Resources on this topic can be found <a href="https://www.zyte.com/blog/an-introduction-to-xpath-with-examples/" target="_blank">here</a>.
                                A simple (naive) approach of using XPATHs is described when clicking on the "<u>Custom Scrape</u>" button
                            </li>
                        </ul>
                        <div id="auto-scrape" class="box box-div box-width-extended selectable-button-side pointer">Automatic Scrape</div>
                        <div id="custom-scrape" class="box box-div box-width-extended selectable-button-side  pointer">Custom Scrape</div>
                    </div>
                    <div id="add-xpath">
                        <h4>Add XPATH</h4>
                        <p class="guide-text">Basic guide to using XPATHs</p>
                        <button id="xpath-descriptor-toggle" class="guide-descriptor-toggle pointer"></button>
                        <div id="bs-psc-xpath-descriptor-box" class="descriptor-text-box">
                            <p class="guide-text">
                                Simple approach: Visit the page you would like to summarise. Right click on the text that will need to be summarised and select Inspect Element.
                                Hover over the <u>copy</u> item in the box and select <u>Copy XPath</u>. You may get something like this : <u>//*[@id="main-content"]/article/div[4]/div/p</u> .
                                You can now paste it in the XPATH input box. If there are square brackets (there may be numbers inside), you may remove it.
                            </p>
                        </div>
                        <p class="guide-text pad-top-20"><strong>Empty XPATHs will not be accepted</strong></p>
                        <br>
                        <br>
                        <input type="text" name="xpath" id="add-xpath-input0" class="box box-width-extended-med-long">
                        <button id="add-xpath-button" class="box box-width-reduced box-reduced-pad-uniform pointer">Add</button>
                    </div>
                    <p id="bs-add-config-save-contextual" class="red-error pad-btm-20"></p>
                    <button id="bs-add-config-save" class="box pointer">Save</button>
                </div>
            </div>
        </div>
    </div>
    <script src="APIClasses.js"></script>
    <script src="settings.js"></script>
</body>
</html>